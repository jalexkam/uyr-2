(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{828:function(t,a,e){"use strict";e.r(a);var s=e(1),i=e(5),r=e.n(i),o=e(10),n=e(42),c=(e(83),e(12)),l=e.n(c),p=e(103);function d(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,s)}return e}function _(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?d(e,!0).forEach((function(a){m(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):d(e).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}function m(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}var u={components:{VueTabs:n.VueTabs,VTab:n.VTab,viewPrescription:p.a},data:function(){return{formData:new o.a({description:""}),myModal:!1,viewPrescription:!1,appointment_id:"",patientData:[],medicalData:[],appointmentData:[],medicalReportsData:[],patientPrescriptions:[],doctorPatientData:[],patientPrescriptionData:[],attach_report:"",doctor_id:"",attach_report_name:""}},created:function(){""!=this.$route.params.id&&null!=this.$route.params.id&&(this.getPatientAppointment(this.$route.params.id),this.appointment_id=this.$route.params.id)},computed:_({},Object(s.c)("Doctor/Index",["result","returnData","prescriptionData","PatientDoctor"])),methods:_({},Object(s.b)("Doctor/Index",["getPatientDoctorinfoAppointment","getPatientAppointmentData","submitMedicalReport","DeleteAttachment","getPrescriptionData"]),{getPatientAppointment:function(t){var a=this;this.getPatientAppointmentData(t).then((function(){a.patientData=a.result.patientData,a.patient_id=a.result.patientData.patient_id,a.doctor_id=a.result.patientData.doctor_id,a.medicalData=a.result.medicalData,a.appointmentData=a.result.appointmentData,a.medicalReportsData=a.result.medicalReportsData,a.patientPrescriptions=a.result.patientPrescriptions}))},onChange:function(t){this.attach_report=t.target.files[0],this.attach_report_name=this.attach_report.name},submitform:function(){var t=this,a=new FormData;""==this.attach_report||"undefined"==this.attach_report?r.a.$toast.open({message:"Please Select Report!",type:"error",duration:5e3,dismissible:!0}):(a.append("patient_id",this.patient_id),a.append("appointment_id",this.appointment_id),a.append("description",this.formData.description),a.append("attach_report",this.attach_report),a.append("doctor_id",this.doctor_id),this.submitMedicalReport({newData:a,appointment_id:this.appointment_id}).then((function(){"success"==t.returnData.status&&(r.a.$toast.open({message:t.returnData.message,type:t.returnData.status}),t.myModal=!1,t.getPatientAppointment(t.$route.params.id),t.attach_report="",t.attach_report_name="",t.formData.description="")})))},MultiAction:function(t,a){var e=this;l.a.fire({title:"Are you sure",text:"Do you really want to "+a+" This record",type:"warning",showCancelButton:!0,confirmButtonText:a,confirmButtonColor:"#dd4b39",cancelButtonText:"Cancel",reverseButtons:!0}).then((function(s){s.value&&e.DeleteAttachment({id:t,action:a}).then((function(){"success"==e.returnData.status&&(r.a.$toast.open({message:e.returnData.message,type:e.returnData.status}),e.getPatientAppointment(e.$route.params.id))}))}))},prescription_view_model:function(t){var a=this;this.viewPrescription=!0,this.getPatientDoctorinfoAppointment(this.appointment_id).then((function(){a.doctorPatientData=a.PatientDoctor.doctorPatientData})),this.getPrescriptionData(t).then((function(){a.patientPrescriptionData=a.prescriptionData.patientPrescriptionData}))},closeModal:function(){this.myModal=!1}})},v=e(6),C=Object(v.a)(u,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("CRow",{staticClass:"m-0"},[e("CCol",{staticClass:"px-2 btn-sticky",attrs:{sm:"12"}},[e("div",{staticClass:"d-flex justify-content-between py-2 align-items-center"},[e("h5",{staticClass:"mb-0"},[t._v("\n                 Patient \n                 "),e("vue-fontawesome",{staticClass:"px-1",attrs:{icon:"caret-right",size:"1"}}),t._v("\n                 View\n              ")],1),t._v(" "),e("div",{},[e("router-link",{attrs:{to:{name:"doctor_appointment"}}},[e("CButton",{attrs:{color:"light"}},[t._v("Back")])],1)],1)])]),t._v(" "),e("CCol",{staticClass:"p-2",attrs:{sm:"9"}},[e("CCard",{staticClass:"mb-0"},[e("CCardHeader",{staticClass:"p-2 px-3 bg_themes"},[e("div",[e("strong",[t._v("Patient Info")])])]),t._v(" "),e("CCardBody",{staticClass:"px-1 py-2"},[e("CRow",{staticClass:"m-0"},[e("CCol",{staticClass:"px-2",attrs:{sm:"6",md:"4"}},[e("div",{staticClass:"form-group"},[e("label",[t._v("Full Name")]),t._v(" "),e("h6",[t._v(t._s(t.patientData.patientName))])])]),t._v(" "),e("CCol",{staticClass:"px-2",attrs:{sm:"6",md:"4"}},[e("div",{staticClass:"form-group"},[e("label",[t._v("Contact No")]),t._v(" "),e("h6",[t._v(t._s(t.patientData.phone_number))])])]),t._v(" "),e("CCol",{staticClass:"px-2",attrs:{sm:"6",md:"4"}},[e("div",{staticClass:"form-group"},[e("label",[t._v("Email")]),t._v(" "),e("h6",[t._v(t._s(t.patientData.email))])])]),t._v(" "),e("CCol",{staticClass:"px-2",attrs:{sm:"12"}},[e("div",{staticClass:"form-group"},[e("label",[t._v("Address")]),t._v(" "),e("h6",[t._v(t._s(t.patientData.address))])])])],1)],1)],1),t._v(" "),e("CCard",{staticClass:"mt-3"},[e("vue-tabs",{staticClass:"pateint_view_tab"},[e("v-tab",{attrs:{title:"Medical History"}},[e("div",{},[e("CCard",{staticClass:"mb-0"},[e("CCardBody",{staticClass:"px-1 py-2 view_page"},[e("CRow",{staticClass:"m-0"},[t.medicalData.medical_history?e("CCol",{staticClass:"px-2",attrs:{sm:"12",md:"12"}},[e("div",{staticClass:"form-group m_hist"},[e("label",[t._v("Do you know if "+t._s(t.patientData.patientName)+" suffers from any of the following?")]),t._v(" "),e("h6",[e("ul",{staticClass:"d-flex flex-wrap"},t._l(t.medicalData.medical_history,(function(a,s){return e("li",[t._v(t._s(a))])})),0)])])]):t._e(),t._v(" "),t.medicalData.description?e("CCol",{staticClass:"px-2",attrs:{sm:"12",md:"12"}},[e("div",{staticClass:"form-group m_hist"},[e("label",[t._v("If you have ticked any of the above, please give details:")]),t._v(" "),e("h6",[t._v("\n                                        "+t._s(t.medicalData.description)+"\n                                      ")])])]):t._e()],1)],1)],1)],1)]),t._v(" "),e("v-tab",{attrs:{title:"Appointment"}},[e("div",{},[e("CCard",{staticClass:"mb-0"},[e("CCardBody",{staticClass:"px-1 py-2"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table"},[e("thead",[e("tr",[e("th",{attrs:{width:"130"}},[t._v("Appointment ID")]),t._v(" "),e("th",[t._v("Date")]),t._v(" "),e("th",[t._v("Time")]),t._v(" "),e("th",[t._v("Doctor Name")]),t._v(" "),e("th",[t._v("Fees")]),t._v(" "),e("th",{staticClass:"text-center"},[t._v("Status")]),t._v(" "),e("th",{staticClass:"text-center"},[t._v("Payment Status")])])]),t._v(" "),e("tbody",t._l(t.appointmentData,(function(a,s){return e("tr",[e("td",[t._v(t._s(a.id))]),t._v(" "),e("td",[t._v(t._s(a.appointment_date))]),t._v(" "),e("td",[t._v(t._s(a.appointment_time))]),t._v(" "),e("td",[t._v(t._s(a.doctorName))]),t._v(" "),"Accept"==a.status?e("td",[t._v(t._s(a.fees_amount)+"/-")]):e("td",[t._v("-")]),t._v(" "),e("td",{staticClass:"text-center"},["Pending"==a.status?e("CBadge",{attrs:{color:"warning"}},[t._v(t._s(a.status))]):t._e(),t._v(" "),"Accept"==a.status?e("CBadge",{attrs:{color:"success"}},[t._v(t._s(a.status))]):t._e(),t._v(" "),"Reject"==a.status?e("CBadge",{attrs:{color:"danger"}},[t._v(t._s(a.status))]):t._e()],1),t._v(" "),e("td",{staticClass:"text-center"},[t._v("\n                                            -\n                                           ")])])})),0)])])])],1)],1)]),t._v(" "),e("v-tab",{attrs:{title:"Prescription"}},[e("div",{},[e("div",{staticClass:"text-right mb-2"},[e("router-link",{attrs:{to:{name:"doctor_add_prescription",params:{id:t.appointment_id}}}},[e("CButton",{staticClass:"btn-flex btn_custom",attrs:{size:"sm"}},[e("vue-fontawesome",{staticClass:"mr-2",attrs:{icon:"plus",size:"0.8"}}),t._v("\n                                Add Prescription\n                             ")],1)],1)],1),t._v(" "),e("CCard",{staticClass:"mb-0"},[e("CCardBody",{staticClass:"px-1 py-2"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table"},[e("thead",[e("tr",[e("th",[t._v("Sr.No")]),t._v(" "),e("th",[t._v("Date")]),t._v(" "),e("th",{attrs:{width:"80"}})])]),t._v(" "),e("tbody",t._l(t.patientPrescriptions,(function(a,s){return e("tr",[e("td",[t._v(t._s(s+1))]),t._v(" "),e("td",[t._v(t._s(a.date))]),t._v(" "),e("td",[e("CButtonGroup",{attrs:{size:"sm"}},[e("CButton",{staticClass:"btn-outline-info",attrs:{size:"sm",color:"",title:"View","data-toggle":"modal","data-target":"#fulfill_order_attachment"},on:{click:function(e){return t.prescription_view_model(a.id)}}},[e("vue-fontawesome",{attrs:{icon:"eye",size:"0.8"}})],1),t._v(" "),e("CButton",{staticClass:"btn-outline-primary",attrs:{size:"sm",color:"",title:"Print"}},[e("vue-fontawesome",{attrs:{icon:"print",size:"0.8"}})],1),t._v(" "),e("CButton",{staticClass:"btn-outline-danger",attrs:{size:"sm",color:"",title:"Delete"}},[e("vue-fontawesome",{attrs:{icon:"trash",size:"0.8"}})],1)],1)],1)])})),0)])])])],1)],1)]),t._v(" "),e("v-tab",{attrs:{title:"Medical Reports"}},[e("div",{},[e("div",{staticClass:"text-right mb-2"},[e("CButton",{staticClass:"btn-flex btn_custom",attrs:{size:"sm"},on:{click:function(a){t.myModal=!0}}},[e("vue-fontawesome",{staticClass:"mr-2",attrs:{icon:"plus",size:"0.8"}}),t._v("Add Medical Reports")],1)],1),t._v(" "),e("CCard",{staticClass:"mb-0"},[e("CCardBody",{staticClass:"px-1 py-2"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table"},[e("thead",[e("tr",[e("th",[t._v("ID")]),t._v(" "),e("th",[t._v("Date")]),t._v(" "),e("th",[t._v("Description")]),t._v(" "),e("th",[t._v("Attachment")]),t._v(" "),e("th",[t._v("Created")]),t._v(" "),e("th")])]),t._v(" "),e("tbody",t._l(t.medicalReportsData,(function(a,s){return e("tr",{key:s},[e("td",[t._v("# "+t._s(a.id))]),t._v(" "),e("td",[t._v(" "+t._s(a.date))]),t._v(" "),e("td",[t._v(t._s(a.description))]),t._v(" "),e("td",[e("a",{attrs:{href:"uploads/patient/"+a.user_id+"/report/"+a.attach_report,target:"_blank"}},[t._v("\n                                              "+t._s(a.attach_report)+"\n                                            ")])]),t._v(" "),e("td",[t._v("Dr. "+t._s(a.doctorName))]),t._v(" "),e("td",{attrs:{width:"80"}},[e("CButtonGroup",{attrs:{size:"sm"}},[e("CButton",{staticClass:"btn-outline-primary",attrs:{size:"sm",color:"",title:"Print"}},[e("a",{attrs:{href:"uploads/patient/"+a.user_id+"/report/"+a.attach_report,download:""}},[e("vue-fontawesome",{attrs:{icon:"print",size:"0.8"}})],1)]),t._v(" "),e("CButton",{staticClass:"btn-outline-danger",attrs:{size:"sm",color:"",title:"Delete"},on:{click:function(e){return t.MultiAction(a.report_id,"Delete")}}},[e("vue-fontawesome",{attrs:{icon:"trash",size:"0.8"}})],1)],1)],1)])})),0)])])])],1)],1)])],1)],1)],1)],1),t._v(" "),e("CModal",{attrs:{title:"Medical Records",show:t.myModal,closeOnBackdrop:!1,addContentClasses:"medical_report_card"},on:{"update:show":function(a){t.myModal=a}}},[e("div",{staticClass:"medical_report"},[e("div",{staticClass:"form-group d-flex"},[e("label",{staticClass:"label",attrs:{for:"medical_report"}},[t._v("Upload Report")]),t._v(" "),e("div",{staticClass:"custom-file"},[e("input",{staticClass:"custom-file-input",attrs:{type:"file",id:"customFile"},on:{change:t.onChange}}),t._v(" "),t.attach_report_name?e("label",{staticClass:"custom-file-label",attrs:{for:"customFile"}},[t._v(t._s(t.attach_report_name))]):e("label",{staticClass:"custom-file-label",attrs:{for:"customFile"}},[t._v("Choose file")])])]),t._v(" "),e("div",{staticClass:"form-group d-flex"},[e("label",{staticClass:"label"},[t._v("Description"),e("br"),t._v(" (Optional)")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.description,expression:"formData.description"}],staticClass:"form-control",domProps:{value:t.formData.description},on:{input:function(a){a.target.composing||t.$set(t.formData,"description",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group mb-0 border-top pt-2 mt-3 text-right"},[e("CButton",{staticClass:"btn_custom",attrs:{size:"sm"},on:{click:t.submitform}},[t._v("Submit")]),t._v(" "),e("CButton",{attrs:{size:"sm",color:"light"},on:{click:function(a){return t.closeModal()}}},[t._v("Close")])],1)])]),t._v(" "),e("CModal",{attrs:{title:"Patient Prescription",show:t.viewPrescription,closeOnBackdrop:!1,size:"lg",addContentClasses:"medical_report_card"},on:{"update:show":function(a){t.viewPrescription=a}}},[e("viewPrescription",{attrs:{doctorPatientData:t.doctorPatientData,patientPrescriptionData:t.patientPrescriptionData}})],1)],1)}),[],!1,null,null,null);a.default=C.exports}}]);